<app-menu></app-menu>
<div class='component-content'>
    <!-- <div class = 'lefthalf'>
      <span class='component-title'>[{{title}}]</span>
      <span><a routerLink='/pr/lines/create/{{purchaseRequest.id}}'>
        <img id='createnew' width='20' height='20' src='../../../../assets/add-icon.png' title='Add New'></a>
      </span>
    </div> -->
  </div>
  <div class="container-fluid">
  <p *ngIf='!purchaseRequests'>Loading ...</p>
  <table class="table table-sm mw-75" id="toppr" *ngIf='purchaseRequests'>
      <tr class='row'>
          <th class="table-secondary text-center col-3">
            <a class="font-weight-bold"><u>Description</u></a>
          </th>
          <th class="table-secondary text-center col-3">
            <a class="font-weight-bold"><u>Status</u></a>
          </th>
          <th class="table-secondary text-center col-3">
            <a class="font-weight-bold"><u>Total</u></a>
          </th>
          <th class="table-secondary text-center col-3">
            <a class="font-weight-bold"><u>User</u></a>
          </th>
        </tr>
        <tr class="text-center row">
            <td>{{purchaseRequest.description}}</td>
            <td>{{purchaseRequest.status}}</td>
            <td>{{purchaseRequest.total | currency}}</td>
            <td>{{purchaseRequest.user.userName}}</td>
        </tr>
  </table>
</div>

<div class="container-fluid" style="margin-top: 25px">
    <p *ngIf='!prlis'>Loading ...</p>
    <table class="table" id="botprli" *ngIf='prlis'>
      <caption>Line Items <span><a routerLink='/pr/lines/create/{{purchaseRequest.id}}'>
        <img id='createnew' width='20' height='20' src='../../../../assets/add-icon.png' title='Add New'></a>
      </span> </caption>
        <tr class='row'>
            <th class="table-secondary text-center">
              <a class="font-weight-bold"><u>Product</u></a>
            </th>
            <th class="table-secondary text-center">
              <a class="font-weight-bold"><u>Quantity</u></a>
            </th>
            <th class="table-secondary text-center">
              <a class="font-weight-bold"><u>Price</u></a>
            </th>
            <th class="table-secondary text-center">
              <a class="font-weight-bold"><u>Total</u></a>
            </th>
            <th class="table-secondary text-center">
              <a class="font-weight-bold"><u>Actions</u></a>
            </th>
          </tr>
          
          <tr *ngFor='let prli of prlis'class="text-center row">
              <td>{{prli.product.name}}</td>
              <td>{{prli.quantity}}</td> 
              <td>{{prli.product.price | currency}}</td>
              <td>{{prli.quantity * prli.product.price | currency}}</td>
              <td class='actions'>
                  <a routerLink='/pr/lines/edit/{{purchaseRequest.id}}/{{prli.id}}'>Edit</a> | 
                  <a routerLink='/pr/lines/remove/{{purchaseRequest.id}}/{{prli.id}}' (click)="remove()">Remove</a>
                </td>
          </tr>

          
        </table>
            <div *ngIf='prlis.length==0' class="text-danger">
                <p class='text-center' style='margin-top: 15px;'>No line items yet.  Please create a new one!</p>
            </div>
  </div>



<router-outlet></router-outlet>
